trigger:
- main

pool:
  name: Default
  demands: []

steps:
- script: dotnet restore
  displayName: 'Restore dependencies'

- script: dotnet build --configuration Release
  displayName: 'Build solution'

- script: dotnet test --configuration Release --settings QAS.runsettings --logger trx
  displayName: 'Run tests'

- task: PublishTestResults@2
  inputs:
    testResultsFormat: 'VSTest'
    testResultsFiles: '**/TestResults/*.trx'
  condition: succeededOrFailed()
  displayName: 'Publish Test Results'
